using Microsoft.AspNetCore.Mvc;

using LSTC.CheeseShop.Api.Services;
using System.Net.Mime;
using Microsoft.AspNetCore.Mvc.Filters;
using System.Net;

namespace LSTC.CheeseShop.Api.Controllers;

[ApiController]
[Route("/")]
public class HomeController : ControllerBase
{
    private readonly ILogger<HomeController> _logger;

    public HomeController(ILogger<HomeController> logger)
    {
        _logger = logger;
    }

    /// <summary>
    /// Indicates that the service has started and is alive - https://kubernetes.io/docs/reference/using-api/health-checks/
    /// </summary>
    /// <returns></returns>
    [HttpGet("livez")]
    public ActionResult<string> Liveness([FromQuery] bool verbose = false)
    {
        return Ok("healthz check passed");
    }
}
